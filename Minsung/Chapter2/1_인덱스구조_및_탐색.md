# 2.1 인덱스 구조 및 탐색

인덱스 구조와 탐색 원리에 대해서 알아봅시다.



## 2.1.1 미리 보는 인덱스 튜닝

### 데이터를 찾는 두 가지 방법

테이터베이스 테이블에서 데이터를 찾는 방법은 두 가지입니다.

* 테이블 전체 스캔
* 인덱스 이용

테이블 전체 스캔과 관련해서는 튜닝 요소가 많지 않지만, 인덱스와 관련해서는 튜닝 요소가 매우 많고 기법도 다양합니다.



### 인덱스 튜닝의 두 가지 핵심요소

인덱스는 큰 테이블에서 소량 데이터를 검색할 때 사용합니다.

인덱스 튜닝 방법의 핵심 요소는 크게 두 가지로 나뉩니다.

첫 번째는 **인덱스 스캔 효율화 튜닝** 입니다.

학생 테이블에서 시력이 1.0~1.5인 홍길동 학생을 찾는 경우를 예로 들어봅시다.

만약 이름, 시력순으로 정렬해두었다면 홍길동을 먼저 찾은 후 해당 범위 내의 시력을 가진 학생만 찾으면 됩니다.

즉, 소량의 데이터만 스캔할 수 있습니다.

반면에 시력과 이름으로 정렬을 했다면 훨씬 더 많은 데이터 스캔이 일어납니다.



두 번째는 **랜덤 엑세스 최소화 튜닝** 입니다.

이는 테이블 엑세스 횟수를 줄이는 방식으로 튜닝을 하게 됩니다.

다시 시력이 1.0~1.5인 홍길동 학생을 찾는 경우를 생각해봅시다.

시력이 1.0~1.5인 학생은 50명이고, 이름이 홍길동인 학생이 5명이라고 가정합시다.

만일 시력순으로 정렬된 테이블과 이름순으로 정렬된 테이블이 있다면 이름순으로 정렬된 테이블을 사용해야 합니다.



둘 모두 중요하지만 더 중요한 하나를 고르자면 두 번째인 랜덤 엑세스 최소화 튜닝입니다.

엑세스하는 것이 성능에 영향을 더 크게 미치기 때문입니다.



### SQL 튜닝은 랜덤 I/O와의 전쟁

데이터베이스 성능이 느린 이유는 디스크 I/O 때문이고, 그 중에서도 랜덤 I/O가 특히 중요합니다.

DBMS가 제공하는 많은 기능이 느린 랜덤 I/O를 극복하기 위해 개발됐다고 해도 과언이 아닙니다.



